# sageLLM éƒ¨ç½²æ¶æ„è¯´æ˜

## ğŸ¯ æ ¸å¿ƒé—®é¢˜ï¼šå¯¹å¤–ä½¿ç”¨æ—¶èµ°ä»€ä¹ˆåè®®ï¼Ÿ

**ç­”æ¡ˆï¼šç”Ÿäº§ç¯å¢ƒå¿…é¡»é€šè¿‡ HTTP APIï¼ˆsagellm-gatewayï¼‰ï¼Œä¸å…è®¸ç›´è¿å¼•æ“ã€‚**

---

## ğŸ“Š ä¸‰ç§ä½¿ç”¨æ¨¡å¼å¯¹æ¯”

| æ¨¡å¼ | åœºæ™¯ | åè®® | å®Œæ•´åº¦ | æ€§èƒ½ |
|------|------|------|--------|------|
| **HTTP APIï¼ˆç”Ÿäº§ï¼‰** | å¯¹å¤–æœåŠ¡ | OpenAI å…¼å®¹ HTTP | âœ… å®Œæ•´ï¼ˆGateway + Control Plane + å¼•æ“ï¼‰ | çœŸå®ï¼ˆå«ç½‘ç»œå¼€é”€ï¼‰ |
| **Python APIï¼ˆé›†æˆï¼‰** | å†…éƒ¨åº”ç”¨ | Python å‡½æ•°è°ƒç”¨ | âš ï¸ éƒ¨åˆ†ï¼ˆControl Plane + å¼•æ“ï¼Œæ—  Gatewayï¼‰ | ä¸­ç­‰ï¼ˆæ—  HTTP å¼€é”€ï¼‰ |
| **ç›´è¿å¼•æ“ï¼ˆè°ƒè¯•ï¼‰** | å¼€å‘/æµ‹è¯• | Python å‡½æ•°è°ƒç”¨ | âŒ ä¸å®Œæ•´ï¼ˆä»…å¼•æ“ï¼Œæ— è°ƒåº¦ï¼‰ | æœ€é«˜ï¼ˆæ— é¢å¤–å¼€é”€ï¼‰ |

---

## ğŸ—ï¸ æ¨¡å¼ 1ï¼šHTTP APIï¼ˆæ¨èç”Ÿäº§æ–¹å¼ï¼‰

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¤–éƒ¨ç”¨æˆ·ï¼ˆä»»ä½•è¯­è¨€ï¼‰                                         â”‚
â”‚  â€¢ Python (openai SDK)                                       â”‚
â”‚  â€¢ JavaScript (openai-node)                                  â”‚
â”‚  â€¢ curl                                                      â”‚
â”‚  â€¢ å…¶ä»– HTTP å®¢æˆ·ç«¯                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ HTTP POST
                        â”‚ /v1/chat/completions
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  sagellm-gateway (L5 - API Gateway)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â€¢ OpenAI å…¼å®¹ API (/v1/chat/completions, /v1/models)   â”‚  â”‚
â”‚  â”‚ â€¢ è®¤è¯æˆæƒï¼ˆAPI Key éªŒè¯ï¼‰                              â”‚  â”‚
â”‚  â”‚ â€¢ ä¼šè¯ç®¡ç†ï¼ˆå¤šè½®å¯¹è¯çŠ¶æ€ï¼‰                              â”‚  â”‚
â”‚  â”‚ â€¢ é™æµæ§åˆ¶                                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ Python å†…éƒ¨è°ƒç”¨
                        â”‚ manager.route_request()
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  sagellm-control-plane (L4 - è°ƒåº¦å±‚)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â€¢ è¯·æ±‚è·¯ç”±ï¼ˆæ ¹æ®è´Ÿè½½åˆ†é…åˆ°å¼•æ“å®ä¾‹ï¼‰                    â”‚  â”‚
â”‚  â”‚ â€¢ è´Ÿè½½å‡è¡¡ï¼ˆRound-robin, Least-loaded, etc.ï¼‰          â”‚  â”‚
â”‚  â”‚ â€¢ å¼•æ“ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆå¯åŠ¨ã€åœæ­¢ã€å¥åº·æ£€æŸ¥ï¼‰              â”‚  â”‚
â”‚  â”‚ â€¢ è°ƒåº¦ç­–ç•¥ï¼ˆFIFO, Priority, SLO-awareï¼‰                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ Python å†…éƒ¨è°ƒç”¨
                        â”‚ engine.generate()
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  sagellm-core + backend (L1-L3 - å¼•æ“å±‚)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â€¢ æ¨¡å‹æ¨ç†æ‰§è¡Œ                                          â”‚  â”‚
â”‚  â”‚ â€¢ KV ç¼“å­˜ç®¡ç†                                           â”‚  â”‚
â”‚  â”‚ â€¢ ç¡¬ä»¶åŠ é€Ÿï¼ˆCPU/CUDA/Ascendï¼‰                           â”‚  â”‚
â”‚  â”‚ â€¢ æŒ‡æ ‡é‡‡é›†ï¼ˆTTFT, TBT, throughputï¼‰                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å¯åŠ¨å‘½ä»¤

```bash
# æ–¹å¼ 1ï¼šä¸€é”®å¯åŠ¨å®Œæ•´æ ˆï¼ˆæ¨èï¼‰
pip install 'isagellm[server]'
sage-llm serve --model Qwen2-7B --port 8000

# æ–¹å¼ 2ï¼šåˆ†ç»„ä»¶å¯åŠ¨ï¼ˆé«˜çº§ç”¨æ³•ï¼‰
# Terminal 1: å¯åŠ¨ Gateway
pip install 'isagellm[gateway]'
sagellm-gateway --control-plane --port 8000

# Terminal 2: å¯åŠ¨ Control Planeï¼ˆå¦‚æœéœ€è¦ç‹¬ç«‹éƒ¨ç½²ï¼‰
pip install 'isagellm[control-plane]'
# Control Plane é€šå¸¸ç”± Gateway è‡ªåŠ¨å¯åŠ¨ï¼Œæ— éœ€å•ç‹¬è¿è¡Œ
```

### å®¢æˆ·ç«¯è°ƒç”¨

```python
# Python å®¢æˆ·ç«¯
from openai import OpenAI

client = OpenAI(
    base_url="http://your-server:8000/v1",
    api_key="your-api-key",
)

response = client.chat.completions.create(
    model="Qwen2-7B",
    messages=[{"role": "user", "content": "Hello!"}]
)
```

```bash
# curl å®¢æˆ·ç«¯
curl http://your-server:8000/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer your-api-key" \
  -d '{
    "model": "Qwen2-7B",
    "messages": [{"role": "user", "content": "Hello!"}]
  }'
```

### âœ… ä¼˜ç‚¹

- æ ‡å‡†åŒ–æ¥å£ï¼šä¸ OpenAI API 100% å…¼å®¹
- å¤šè¯­è¨€æ”¯æŒï¼šä»»ä½•è¯­è¨€éƒ½å¯é€šè¿‡ HTTP è°ƒç”¨
- å®Œæ•´åŠŸèƒ½ï¼šè®¤è¯ã€ä¼šè¯ã€è´Ÿè½½å‡è¡¡ã€è°ƒåº¦
- æ˜“äºæ‰©å±•ï¼šå¯æ°´å¹³æ‰©å±• Gateway å’Œ Engine å®ä¾‹

### âš ï¸ æ³¨æ„

- åŒ…å« HTTP ç½‘ç»œå¼€é”€ï¼ˆé€šå¸¸ <10msï¼‰
- éœ€è¦å¯åŠ¨ Gateway æœåŠ¡
- ç”Ÿäº§ç¯å¢ƒ**å¿…é€‰**æ–¹å¼

---

## ğŸ”§ æ¨¡å¼ 2ï¼šPython APIï¼ˆå†…éƒ¨é›†æˆï¼‰

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä½ çš„ Python åº”ç”¨                                             â”‚
â”‚  from sagellm import ControlPlaneManager                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ Python å‡½æ•°è°ƒç”¨
                        â”‚ manager.route_request()
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  sagellm-control-plane (L4)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ Python å‡½æ•°è°ƒç”¨
                        â”‚ engine.generate()
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  sagellm-core + backend (L1-L3)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ³¨æ„ï¼šè·³è¿‡äº† Gateway å±‚ï¼ˆæ—  HTTPï¼Œæ— è®¤è¯ï¼Œæ— ä¼šè¯ç®¡ç†ï¼‰
```

### ä½¿ç”¨ç¤ºä¾‹

```python
import asyncio
from sagellm import ControlPlaneManager, BackendConfig, EngineConfig

async def main():
    # åˆ›å»º Control Plane ç®¡ç†å™¨
    manager = ControlPlaneManager(
        backend_config=BackendConfig(kind="cpu", device="cpu"),
        engine_config=EngineConfig(
            model_path="Qwen2-7B",
            max_batch_size=8,
        ),
    )

    # å‘é€è¯·æ±‚ï¼ˆç»•è¿‡ Gatewayï¼‰
    from sagellm_protocol import Request

    request = Request(
        prompt="What is LLM?",
        max_new_tokens=100,
    )

    result = await manager.route_request(request)
    print(result.output_text)

if __name__ == "__main__":
    asyncio.run(main())
```

### âœ… ä¼˜ç‚¹

- æ—  HTTP å¼€é”€
- ä»ç„¶æœ‰ Control Plane è°ƒåº¦åŠŸèƒ½
- é€‚åˆ Python åº”ç”¨å†…åµŒ

### âš ï¸ ç¼ºç‚¹

- **æ—  Gateway åŠŸèƒ½**ï¼š
  - âŒ æ—  OpenAI API å…¼å®¹å±‚
  - âŒ æ— è®¤è¯æˆæƒ
  - âŒ æ— ä¼šè¯ç®¡ç†
- **ä»…é™ Python**ï¼šå…¶ä»–è¯­è¨€æ— æ³•è°ƒç”¨
- **ä¸é€‚åˆå¯¹å¤–æœåŠ¡**ï¼šç¼ºå°‘æ ‡å‡† API æ¥å£

### ğŸ¯ é€‚ç”¨åœºæ™¯

- Python åº”ç”¨å†…éƒ¨é›†æˆï¼ˆä¸å¯¹å¤–æš´éœ²ï¼‰
- éœ€è¦è°ƒåº¦åŠŸèƒ½ä½†ä¸éœ€è¦ HTTP API
- æ€§èƒ½æ•æ„Ÿåº”ç”¨ï¼ˆçœå» HTTP å¼€é”€ï¼‰

---

## âš™ï¸ æ¨¡å¼ 3ï¼šç›´è¿å¼•æ“ï¼ˆå¼€å‘/æµ‹è¯•ï¼‰

### æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä½ çš„æµ‹è¯•ä»£ç                                                  â”‚
â”‚  from sagellm_core import CPUEngine                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ Python å‡½æ•°è°ƒç”¨
                        â”‚ engine.generate()
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  sagellm-core + backend (L1-L3)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ³¨æ„ï¼šå®Œå…¨è·³è¿‡ Control Plane å’Œ Gateway
```

### ä½¿ç”¨ç¤ºä¾‹

```python
from sagellm_core.engines.cpu import create_cpu_engine
from sagellm_protocol import Request

# ç›´æ¥åˆ›å»ºå¼•æ“ï¼ˆæ—  Control Planeï¼‰
engine = create_cpu_engine(
    engine_id="test-001",
    model_path="gpt2",
    max_new_tokens=50,
)

await engine.start()

# ç›´æ¥è°ƒç”¨å¼•æ“
request = Request(prompt="Hello!", max_new_tokens=20)
result = await engine.generate(request)

print(result.output_text)

await engine.stop()
```

### âœ… ä¼˜ç‚¹

- æœ€é«˜æ€§èƒ½ï¼ˆæ— ä»»ä½•é¢å¤–å¼€é”€ï¼‰
- ä»£ç æœ€ç®€å•
- é€‚åˆå¼•æ“æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•

### âš ï¸ ç¼ºç‚¹

- **æ— è°ƒåº¦åŠŸèƒ½**ï¼šæ— æ³•è´Ÿè½½å‡è¡¡ã€è¯·æ±‚è·¯ç”±
- **æ—  API å±‚**ï¼šæ—  HTTPã€æ— è®¤è¯ã€æ— ä¼šè¯
- **ä»…é™å•å®ä¾‹**ï¼šæ— æ³•å¤šå¼•æ“å¹¶è¡Œ

### ğŸ¯ é€‚ç”¨åœºæ™¯

- **sagellm-benchmark çš„ SageLLMClient**ï¼šæµ‹è¯•å¼•æ“æ€§èƒ½
- å•å…ƒæµ‹è¯•
- å¼•æ“åŠŸèƒ½éªŒè¯
- æ€§èƒ½è°ƒä¼˜

---

## ğŸ“Š ä¸‰ç§æ¨¡å¼å¯¹æ¯”æ€»ç»“

| ç‰¹æ€§ | HTTP API | Python API | ç›´è¿å¼•æ“ |
|------|----------|------------|---------|
| **å¯¹å¤–æœåŠ¡** | âœ… æ¨è | âŒ ä¸æ¨è | âŒ ç¦æ­¢ |
| **OpenAI å…¼å®¹** | âœ… | âŒ | âŒ |
| **è®¤è¯æˆæƒ** | âœ… | âŒ | âŒ |
| **ä¼šè¯ç®¡ç†** | âœ… | âŒ | âŒ |
| **è´Ÿè½½å‡è¡¡** | âœ… | âœ… | âŒ |
| **è¯·æ±‚è°ƒåº¦** | âœ… | âœ… | âŒ |
| **å¤šè¯­è¨€æ”¯æŒ** | âœ… | âŒ (ä»… Python) | âŒ (ä»… Python) |
| **æ€§èƒ½å¼€é”€** | ä¸­ç­‰ï¼ˆå« HTTPï¼‰ | ä½ï¼ˆæ—  HTTPï¼‰ | æœ€ä½ï¼ˆç›´è¿ï¼‰ |
| **æ˜“äºé›†æˆ** | âœ… æ ‡å‡† HTTP | âš ï¸ éœ€è¦ Python | âŒ éœ€è¦æ·±åº¦é›†æˆ |

---

## ğŸ¯ sagellm-benchmark å®¢æˆ·ç«¯å¯¹åº”å…³ç³»

| Benchmark å®¢æˆ·ç«¯ | å¯¹åº”æ¨¡å¼ | æµ‹è¯•ç›®çš„ |
|-----------------|---------|---------|
| **GatewayClient** | æ¨¡å¼ 1ï¼ˆHTTP APIï¼‰ | æµ‹è¯•ç”Ÿäº§ç¯å¢ƒå®Œæ•´é“¾è·¯ |
| **SageLLMClient** | æ¨¡å¼ 3ï¼ˆç›´è¿å¼•æ“ï¼‰ | æµ‹è¯•å¼•æ“æ ¸å¿ƒæ€§èƒ½ |

**ä¸ºä»€ä¹ˆæœ‰ä¸¤ä¸ªå®¢æˆ·ç«¯ï¼Ÿ**

- **GatewayClient**ï¼šæ¨¡æ‹ŸçœŸå®ç”Ÿäº§ç¯å¢ƒï¼ˆHTTP + Control Plane + å¼•æ“ï¼‰
- **SageLLMClient**ï¼šéš”ç¦»å¼•æ“æ€§èƒ½ï¼ˆæ’é™¤ç½‘ç»œå’Œè°ƒåº¦å¼€é”€ï¼‰

---

## ğŸš€ æœ€ä½³å®è·µ

### ç”Ÿäº§éƒ¨ç½²

```bash
# âœ… æ­£ç¡®ï¼šå®Œæ•´æ ˆéƒ¨ç½²
pip install 'isagellm[server]'
sage-llm serve --model Qwen2-7B --port 8000

# å¤–éƒ¨ç”¨æˆ·é€šè¿‡ OpenAI SDK è®¿é—®
# Python: OpenAI(base_url="http://your-server:8000/v1")
# å…¶ä»–è¯­è¨€ï¼šæ ‡å‡† HTTP å®¢æˆ·ç«¯
```

### å†…éƒ¨é›†æˆ

```python
# âœ… æ­£ç¡®ï¼šPython åº”ç”¨å†…åµŒ
from sagellm import ControlPlaneManager

manager = ControlPlaneManager(...)
result = await manager.route_request(request)

# âš ï¸ æ³¨æ„ï¼šè¿™ç§æ–¹å¼ä¸å¯¹å¤–æš´éœ²æœåŠ¡
```

### å¼€å‘æµ‹è¯•

```python
# âœ… æ­£ç¡®ï¼šå¼•æ“åŠŸèƒ½æµ‹è¯•
from sagellm_core import CPUEngine

engine = CPUEngine(...)
result = await engine.generate(request)

# âš ï¸ ä»…ç”¨äºæµ‹è¯•ï¼Œä¸ç”¨äºç”Ÿäº§
```

---

## â“ å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆç”Ÿäº§ç¯å¢ƒå¿…é¡»èµ° HTTPï¼Ÿ

**A:** å› ä¸ºéœ€è¦ï¼š
1. æ ‡å‡†åŒ–æ¥å£ï¼ˆOpenAI å…¼å®¹ï¼‰
2. è®¤è¯æˆæƒï¼ˆAPI Keyï¼‰
3. ä¼šè¯ç®¡ç†ï¼ˆå¤šè½®å¯¹è¯ï¼‰
4. å¤šè¯­è¨€æ”¯æŒï¼ˆä¸é™äº Pythonï¼‰
5. è´Ÿè½½å‡è¡¡å’Œè¯·æ±‚è°ƒåº¦

### Q2: ç›´è¿å¼•æ“æœ‰ä»€ä¹ˆé£é™©ï¼Ÿ

**A:**
- âŒ æ— è°ƒåº¦ï¼šæ— æ³•è´Ÿè½½å‡è¡¡
- âŒ æ— è®¤è¯ï¼šæ— æ³•æ§åˆ¶è®¿é—®
- âŒ æ— ä¼šè¯ï¼šæ— æ³•æ”¯æŒå¤šè½®å¯¹è¯
- âŒ ä¸æ ‡å‡†ï¼šä¸ OpenAI API ä¸å…¼å®¹

### Q3: Python APIï¼ˆæ¨¡å¼ 2ï¼‰é€‚åˆä»€ä¹ˆåœºæ™¯ï¼Ÿ

**A:** é€‚åˆï¼š
- å†…éƒ¨ Python åº”ç”¨é›†æˆ
- éœ€è¦è°ƒåº¦ä½†ä¸éœ€è¦ HTTP
- æ€§èƒ½æ•æ„Ÿä½†éœ€è¦ Control Plane

**ä¸é€‚åˆ**ï¼š
- å¯¹å¤–æä¾›æœåŠ¡
- éœ€è¦ OpenAI API å…¼å®¹
- éœ€è¦å¤šè¯­è¨€æ”¯æŒ

### Q4: åŸºå‡†æµ‹è¯•åº”è¯¥ç”¨å“ªä¸ªå®¢æˆ·ç«¯ï¼Ÿ

**A:**
- **æµ‹è¯•ç”Ÿäº§ç¯å¢ƒæ€§èƒ½**ï¼šä½¿ç”¨ **GatewayClient**ï¼ˆå®Œæ•´é“¾è·¯ï¼‰
- **æµ‹è¯•å¼•æ“æ ¸å¿ƒæ€§èƒ½**ï¼šä½¿ç”¨ **SageLLMClient**ï¼ˆæ’é™¤ç½‘ç»œå¹²æ‰°ï¼‰

ä¸¤è€…æµ‹è¯•ä¸åŒå±‚æ¬¡ï¼Œéƒ½æœ‰æ„ä¹‰ã€‚
