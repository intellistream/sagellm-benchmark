{".class":"MypyFile","_fullname":"sagellm_core.runtime_optimizer","future_import_flags":["annotations"],"is_partial_stub_package":false,"is_stub":false,"names":{".class":"SymbolTable","ABC":{".class":"SymbolTableNode","cross_ref":"abc.ABC","kind":"Gdef"},"AdaptivePrecisionStrategy":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["sagellm_core.runtime_optimizer.BaseStrategy"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy","name":"AdaptivePrecisionStrategy","type_vars":[]},"deletable_attributes":[],"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy","has_param_spec_type":false,"metaclass_type":"abc.ABCMeta","metadata":{},"module_name":"sagellm_core.runtime_optimizer","mro":["sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy","sagellm_core.runtime_optimizer.BaseStrategy","abc.ABC","builtins.object"],"names":{".class":"SymbolTable","__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,5,5,5,5,5],"arg_names":["self","target_latency_ms","precision_levels","quality_threshold","name","enabled"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,5,5,5,5,5],"arg_names":["self","target_latency_ms","precision_levels","quality_threshold","name","enabled"],"arg_types":["sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy","builtins.float",{".class":"UnionType","items":[{".class":"Instance","args":["builtins.str"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"NoneType"}],"uses_pep604_syntax":true},"builtins.float","builtins.str","builtins.bool"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__init__ of AdaptivePrecisionStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_apply_backend_precision":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,3,3,3],"arg_names":["self","precision","layer_precision","per_request_precision"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy._apply_backend_precision","name":"_apply_backend_precision","type":{".class":"CallableType","arg_kinds":[0,3,3,3],"arg_names":["self","precision","layer_precision","per_request_precision"],"arg_types":["sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy","builtins.str",{".class":"Instance","args":["builtins.str","builtins.str"],"extra_attrs":null,"type_ref":"builtins.dict"},{".class":"Instance","args":["builtins.str","builtins.str"],"extra_attrs":null,"type_ref":"builtins.dict"}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_apply_backend_precision of AdaptivePrecisionStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_backend":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy._backend","name":"_backend","type":{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},{".class":"NoneType"}],"uses_pep604_syntax":true}}},"_choose_level_index":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,3,3],"arg_names":["self","current_latency","target_latency"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy._choose_level_index","name":"_choose_level_index","type":{".class":"CallableType","arg_kinds":[0,3,3],"arg_names":["self","current_latency","target_latency"],"arg_types":["sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy","builtins.float","builtins.float"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_choose_level_index of AdaptivePrecisionStrategy","ret_type":"builtins.int","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_current_level_idx":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy._current_level_idx","name":"_current_level_idx","type":"builtins.int"}},"_current_precision":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy._current_precision","name":"_current_precision","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_current_precision of AdaptivePrecisionStrategy","ret_type":"builtins.str","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_detect_supported_precisions":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","backend"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy._detect_supported_precisions","name":"_detect_supported_precisions","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","backend"],"arg_types":["sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_detect_supported_precisions of AdaptivePrecisionStrategy","ret_type":{".class":"Instance","args":["builtins.str"],"extra_attrs":null,"type_ref":"builtins.set"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_ema_latency_ms":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy._ema_latency_ms","name":"_ema_latency_ms","type":{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":true}}},"_extract_request_budget":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["step"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_static","is_decorated"],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy._extract_request_budget","name":"_extract_request_budget","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["step"],"arg_types":[{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_extract_request_budget of AdaptivePrecisionStrategy","ret_type":{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":true},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_staticmethod","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy._extract_request_budget","name":"_extract_request_budget","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["step"],"arg_types":[{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_extract_request_budget of AdaptivePrecisionStrategy","ret_type":{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":true},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"_first_supported_level_index":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy._first_supported_level_index","name":"_first_supported_level_index","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_first_supported_level_index of AdaptivePrecisionStrategy","ret_type":"builtins.int","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_last_quality_score":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy._last_quality_score","name":"_last_quality_score","type":"builtins.float"}},"_last_switch_ms":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy._last_switch_ms","name":"_last_switch_ms","type":"builtins.float"}},"_layer_precision_policy":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["precision"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_static","is_decorated"],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy._layer_precision_policy","name":"_layer_precision_policy","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["precision"],"arg_types":["builtins.str"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_layer_precision_policy of AdaptivePrecisionStrategy","ret_type":{".class":"Instance","args":["builtins.str","builtins.str"],"extra_attrs":null,"type_ref":"builtins.dict"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_staticmethod","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy._layer_precision_policy","name":"_layer_precision_policy","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["precision"],"arg_types":["builtins.str"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_layer_precision_policy of AdaptivePrecisionStrategy","ret_type":{".class":"Instance","args":["builtins.str","builtins.str"],"extra_attrs":null,"type_ref":"builtins.dict"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"_next_supported_higher_precision_index":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","current_index"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy._next_supported_higher_precision_index","name":"_next_supported_higher_precision_index","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","current_index"],"arg_types":["sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy","builtins.int"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_next_supported_higher_precision_index of AdaptivePrecisionStrategy","ret_type":{".class":"UnionType","items":["builtins.int",{".class":"NoneType"}],"uses_pep604_syntax":true},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_next_supported_lower_precision_index":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","current_index"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy._next_supported_lower_precision_index","name":"_next_supported_lower_precision_index","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","current_index"],"arg_types":["sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy","builtins.int"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_next_supported_lower_precision_index of AdaptivePrecisionStrategy","ret_type":{".class":"UnionType","items":["builtins.int",{".class":"NoneType"}],"uses_pep604_syntax":true},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_per_request_precision":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,3],"arg_names":["step","default_precision"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_static","is_decorated"],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy._per_request_precision","name":"_per_request_precision","type":{".class":"CallableType","arg_kinds":[0,3],"arg_names":["step","default_precision"],"arg_types":[{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"},"builtins.str"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_per_request_precision of AdaptivePrecisionStrategy","ret_type":{".class":"Instance","args":["builtins.str","builtins.str"],"extra_attrs":null,"type_ref":"builtins.dict"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_staticmethod","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy._per_request_precision","name":"_per_request_precision","type":{".class":"CallableType","arg_kinds":[0,3],"arg_names":["step","default_precision"],"arg_types":[{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"},"builtins.str"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_per_request_precision of AdaptivePrecisionStrategy","ret_type":{".class":"Instance","args":["builtins.str","builtins.str"],"extra_attrs":null,"type_ref":"builtins.dict"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"_supported_precisions":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy._supported_precisions","name":"_supported_precisions","type":{".class":"Instance","args":["builtins.str"],"extra_attrs":null,"type_ref":"builtins.set"}}},"_switch_count":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy._switch_count","name":"_switch_count","type":"builtins.int"}},"current_precision":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy.current_precision","name":"current_precision","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"current_precision of AdaptivePrecisionStrategy","ret_type":"builtins.str","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"observe_execution":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,3,3,5],"arg_names":["self","batch_size","latency_ms","metadata"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy.observe_execution","name":"observe_execution","type":{".class":"CallableType","arg_kinds":[0,3,3,5],"arg_names":["self","batch_size","latency_ms","metadata"],"arg_types":["sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy","builtins.int","builtins.float",{".class":"UnionType","items":[{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.dict"},{".class":"NoneType"}],"uses_pep604_syntax":true}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"observe_execution of AdaptivePrecisionStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"optimize":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy.optimize","name":"optimize","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"arg_types":["sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"sagellm_core.runtime_optimizer.RuntimeStats"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"optimize of AdaptivePrecisionStrategy","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"precision_levels":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy.precision_levels","name":"precision_levels","type":{".class":"Instance","args":["builtins.str"],"extra_attrs":null,"type_ref":"builtins.list"}}},"quality_threshold":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy.quality_threshold","name":"quality_threshold","type":"builtins.float"}},"set_backend":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","backend"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy.set_backend","name":"set_backend","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","backend"],"arg_types":["sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"set_backend of AdaptivePrecisionStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"set_quality_score":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","score"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy.set_quality_score","name":"set_quality_score","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","score"],"arg_types":["sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy","builtins.float"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"set_quality_score of AdaptivePrecisionStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"stats":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy.stats","name":"stats","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"stats of AdaptivePrecisionStrategy","ret_type":{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.dict"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"target_latency_ms":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy.target_latency_ms","name":"target_latency_ms","type":"builtins.float"}}},"self_type":{".class":"TypeVarType","default":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},"fullname":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy.Self","id":0,"name":"Self","namespace":"","upper_bound":"sagellm_core.runtime_optimizer.AdaptivePrecisionStrategy","values":[],"variance":0},"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"Any":{".class":"SymbolTableNode","cross_ref":"typing.Any","kind":"Gdef"},"BaseStrategy":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[["optimize",1]],"alt_promote":null,"bases":["abc.ABC"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"sagellm_core.runtime_optimizer.BaseStrategy","name":"BaseStrategy","type_vars":[]},"deletable_attributes":[],"deprecated":null,"flags":["is_abstract"],"fullname":"sagellm_core.runtime_optimizer.BaseStrategy","has_param_spec_type":false,"metaclass_type":"abc.ABCMeta","metadata":{},"module_name":"sagellm_core.runtime_optimizer","mro":["sagellm_core.runtime_optimizer.BaseStrategy","abc.ABC","builtins.object"],"names":{".class":"SymbolTable","__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,1,5],"arg_names":["self","name","enabled"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.BaseStrategy.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,1,5],"arg_names":["self","name","enabled"],"arg_types":["sagellm_core.runtime_optimizer.BaseStrategy",{".class":"UnionType","items":["builtins.str",{".class":"NoneType"}],"uses_pep604_syntax":true},"builtins.bool"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__init__ of BaseStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"enabled":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.BaseStrategy.enabled","name":"enabled","type":"builtins.bool"}},"name":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.BaseStrategy.name","name":"name","type":"builtins.str"}},"observe_execution":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,3,3,5],"arg_names":["self","batch_size","latency_ms","metadata"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.BaseStrategy.observe_execution","name":"observe_execution","type":{".class":"CallableType","arg_kinds":[0,3,3,5],"arg_names":["self","batch_size","latency_ms","metadata"],"arg_types":["sagellm_core.runtime_optimizer.BaseStrategy","builtins.int","builtins.float",{".class":"UnionType","items":[{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.dict"},{".class":"NoneType"}],"uses_pep604_syntax":true}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"observe_execution of BaseStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"optimize":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":1,"arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_body"],"fullname":"sagellm_core.runtime_optimizer.BaseStrategy.optimize","name":"optimize","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"arg_types":["sagellm_core.runtime_optimizer.BaseStrategy",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"sagellm_core.runtime_optimizer.RuntimeStats"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"optimize of BaseStrategy","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.BaseStrategy.optimize","name":"optimize","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"arg_types":["sagellm_core.runtime_optimizer.BaseStrategy",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"sagellm_core.runtime_optimizer.RuntimeStats"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"optimize of BaseStrategy","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"set_backend":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","backend"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.BaseStrategy.set_backend","name":"set_backend","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","backend"],"arg_types":["sagellm_core.runtime_optimizer.BaseStrategy",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"set_backend of BaseStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"self_type":{".class":"TypeVarType","default":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},"fullname":"sagellm_core.runtime_optimizer.BaseStrategy.Self","id":0,"name":"Self","namespace":"","upper_bound":"sagellm_core.runtime_optimizer.BaseStrategy","values":[],"variance":0},"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"CUDAGraphCaptureStrategy":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["sagellm_core.runtime_optimizer.BaseStrategy"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy","name":"CUDAGraphCaptureStrategy","type_vars":[]},"deletable_attributes":[],"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy","has_param_spec_type":false,"metaclass_type":"abc.ABCMeta","metadata":{},"module_name":"sagellm_core.runtime_optimizer","mro":["sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy","sagellm_core.runtime_optimizer.BaseStrategy","abc.ABC","builtins.object"],"names":{".class":"SymbolTable","__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,5,5,5,5,5],"arg_names":["self","enable_for_decode","cache_size","warmup_runs","name","enabled"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,5,5,5,5,5],"arg_names":["self","enable_for_decode","cache_size","warmup_runs","name","enabled"],"arg_types":["sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy","builtins.bool","builtins.int","builtins.int","builtins.str","builtins.bool"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__init__ of CUDAGraphCaptureStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_backend":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy._backend","name":"_backend","type":{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},{".class":"NoneType"}],"uses_pep604_syntax":true}}},"_cache":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy._cache","name":"_cache","type":{".class":"Instance","args":["builtins.str","sagellm_core.runtime_optimizer._GraphCacheEntry"],"extra_attrs":null,"type_ref":"collections.OrderedDict"}}},"_is_decode":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["item"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_static","is_decorated"],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy._is_decode","name":"_is_decode","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["item"],"arg_types":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_is_decode of CUDAGraphCaptureStrategy","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_staticmethod","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy._is_decode","name":"_is_decode","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["item"],"arg_types":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_is_decode of CUDAGraphCaptureStrategy","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"_shape_key":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["item","latest"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_static","is_decorated"],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy._shape_key","name":"_shape_key","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["item","latest"],"arg_types":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},{".class":"UnionType","items":["sagellm_core.runtime_optimizer.RuntimeStatsSnapshot",{".class":"NoneType"}],"uses_pep604_syntax":true}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_shape_key of CUDAGraphCaptureStrategy","ret_type":"builtins.str","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_staticmethod","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy._shape_key","name":"_shape_key","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["item","latest"],"arg_types":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},{".class":"UnionType","items":["sagellm_core.runtime_optimizer.RuntimeStatsSnapshot",{".class":"NoneType"}],"uses_pep604_syntax":true}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_shape_key of CUDAGraphCaptureStrategy","ret_type":"builtins.str","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"_total_captures":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy._total_captures","name":"_total_captures","type":"builtins.int"}},"_total_fallbacks":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy._total_fallbacks","name":"_total_fallbacks","type":"builtins.int"}},"_total_hits":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy._total_hits","name":"_total_hits","type":"builtins.int"}},"_total_lookups":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy._total_lookups","name":"_total_lookups","type":"builtins.int"}},"_touch_cache":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","shape_key"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy._touch_cache","name":"_touch_cache","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","shape_key"],"arg_types":["sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy","builtins.str"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_touch_cache of CUDAGraphCaptureStrategy","ret_type":"sagellm_core.runtime_optimizer._GraphCacheEntry","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_try_backend_capture":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,3,3],"arg_names":["self","item","shape_key"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy._try_backend_capture","name":"_try_backend_capture","type":{".class":"CallableType","arg_kinds":[0,3,3],"arg_names":["self","item","shape_key"],"arg_types":["sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"builtins.str"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_try_backend_capture of CUDAGraphCaptureStrategy","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_try_backend_replay":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,3,3],"arg_names":["self","item","shape_key"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy._try_backend_replay","name":"_try_backend_replay","type":{".class":"CallableType","arg_kinds":[0,3,3],"arg_names":["self","item","shape_key"],"arg_types":["sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"builtins.str"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_try_backend_replay of CUDAGraphCaptureStrategy","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"cache_hit_rate":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy.cache_hit_rate","name":"cache_hit_rate","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"cache_hit_rate of CUDAGraphCaptureStrategy","ret_type":"builtins.float","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"cache_size":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy.cache_size","name":"cache_size","type":"builtins.int"}},"cache_stats":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy.cache_stats","name":"cache_stats","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"cache_stats of CUDAGraphCaptureStrategy","ret_type":{".class":"Instance","args":["builtins.str",{".class":"UnionType","items":["builtins.int","builtins.float"],"uses_pep604_syntax":true}],"extra_attrs":null,"type_ref":"builtins.dict"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"capture_enabled":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy.capture_enabled","name":"capture_enabled","type":"builtins.bool"}},"enable_for_decode":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy.enable_for_decode","name":"enable_for_decode","type":"builtins.bool"}},"observe_execution":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,3,3,5],"arg_names":["self","batch_size","latency_ms","metadata"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy.observe_execution","name":"observe_execution","type":{".class":"CallableType","arg_kinds":[0,3,3,5],"arg_names":["self","batch_size","latency_ms","metadata"],"arg_types":["sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy","builtins.int","builtins.float",{".class":"UnionType","items":[{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.dict"},{".class":"NoneType"}],"uses_pep604_syntax":true}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"observe_execution of CUDAGraphCaptureStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"optimize":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy.optimize","name":"optimize","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"arg_types":["sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"sagellm_core.runtime_optimizer.RuntimeStats"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"optimize of CUDAGraphCaptureStrategy","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"set_backend":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","backend"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy.set_backend","name":"set_backend","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","backend"],"arg_types":["sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"set_backend of CUDAGraphCaptureStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"set_capture_enabled":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","enabled"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy.set_capture_enabled","name":"set_capture_enabled","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","enabled"],"arg_types":["sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy","builtins.bool"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"set_capture_enabled of CUDAGraphCaptureStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"warmup_runs":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy.warmup_runs","name":"warmup_runs","type":"builtins.int"}}},"self_type":{".class":"TypeVarType","default":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},"fullname":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy.Self","id":0,"name":"Self","namespace":"","upper_bound":"sagellm_core.runtime_optimizer.CUDAGraphCaptureStrategy","values":[],"variance":0},"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"ComputeCommOverlapStrategy":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["sagellm_core.runtime_optimizer.BaseStrategy"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy","name":"ComputeCommOverlapStrategy","type_vars":[]},"deletable_attributes":[],"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy","has_param_spec_type":false,"metaclass_type":"abc.ABCMeta","metadata":{},"module_name":"sagellm_core.runtime_optimizer","mro":["sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy","sagellm_core.runtime_optimizer.BaseStrategy","abc.ABC","builtins.object"],"names":{".class":"SymbolTable","__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,5,5,5,5,5,5,5,5,5,5],"arg_names":["self","enable_overlap_scheduling","enable_dynamic_tp_pp","enable_pipeline_tuning","tp_degree","pp_degree","base_microbatch_size","overlap_threshold","tp_pp_rebalance_interval","name","enabled"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,5,5,5,5,5,5,5,5,5,5],"arg_names":["self","enable_overlap_scheduling","enable_dynamic_tp_pp","enable_pipeline_tuning","tp_degree","pp_degree","base_microbatch_size","overlap_threshold","tp_pp_rebalance_interval","name","enabled"],"arg_types":["sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy","builtins.bool","builtins.bool","builtins.bool","builtins.int","builtins.int","builtins.int","builtins.float","builtins.int","builtins.str","builtins.bool"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__init__ of ComputeCommOverlapStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_adjust_tp_pp_strategy":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","stats"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy._adjust_tp_pp_strategy","name":"_adjust_tp_pp_strategy","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","stats"],"arg_types":["sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy","sagellm_core.runtime_optimizer.RuntimeStats"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_adjust_tp_pp_strategy of ComputeCommOverlapStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_backend":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy._backend","name":"_backend","type":{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},{".class":"NoneType"}],"uses_pep604_syntax":true}}},"_bubble_time_history":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy._bubble_time_history","name":"_bubble_time_history","type":{".class":"Instance","args":["builtins.float"],"extra_attrs":null,"type_ref":"builtins.list"}}},"_comm_backend":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy._comm_backend","name":"_comm_backend","type":{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},{".class":"NoneType"}],"uses_pep604_syntax":true}}},"_comm_overhead_history":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy._comm_overhead_history","name":"_comm_overhead_history","type":{".class":"Instance","args":["builtins.float"],"extra_attrs":null,"type_ref":"builtins.list"}}},"_estimate_comm_intensity":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["item"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_static","is_decorated"],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy._estimate_comm_intensity","name":"_estimate_comm_intensity","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["item"],"arg_types":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_estimate_comm_intensity of ComputeCommOverlapStrategy","ret_type":"builtins.float","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_staticmethod","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy._estimate_comm_intensity","name":"_estimate_comm_intensity","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["item"],"arg_types":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_estimate_comm_intensity of ComputeCommOverlapStrategy","ret_type":"builtins.float","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"_microbatch_adjustment_count":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy._microbatch_adjustment_count","name":"_microbatch_adjustment_count","type":"builtins.int"}},"_optimize_overlap_scheduling":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy._optimize_overlap_scheduling","name":"_optimize_overlap_scheduling","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"arg_types":["sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"},"sagellm_core.runtime_optimizer.RuntimeStats"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_optimize_overlap_scheduling of ComputeCommOverlapStrategy","ret_type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_optimize_pipeline_parallelism":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy._optimize_pipeline_parallelism","name":"_optimize_pipeline_parallelism","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"arg_types":["sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"},"sagellm_core.runtime_optimizer.RuntimeStats"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_optimize_pipeline_parallelism of ComputeCommOverlapStrategy","ret_type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_overlap_efficiency_history":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy._overlap_efficiency_history","name":"_overlap_efficiency_history","type":{".class":"Instance","args":["builtins.float"],"extra_attrs":null,"type_ref":"builtins.list"}}},"_step_count":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy._step_count","name":"_step_count","type":"builtins.int"}},"_throughput_history":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy._throughput_history","name":"_throughput_history","type":{".class":"Instance","args":["builtins.float"],"extra_attrs":null,"type_ref":"builtins.list"}}},"_topology":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy._topology","name":"_topology","type":{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},{".class":"NoneType"}],"uses_pep604_syntax":true}}},"_tp_pp_adjustment_count":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy._tp_pp_adjustment_count","name":"_tp_pp_adjustment_count","type":"builtins.int"}},"base_microbatch_size":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy.base_microbatch_size","name":"base_microbatch_size","type":"builtins.int"}},"enable_dynamic_tp_pp":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy.enable_dynamic_tp_pp","name":"enable_dynamic_tp_pp","type":"builtins.bool"}},"enable_overlap_scheduling":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy.enable_overlap_scheduling","name":"enable_overlap_scheduling","type":"builtins.bool"}},"enable_pipeline_tuning":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy.enable_pipeline_tuning","name":"enable_pipeline_tuning","type":"builtins.bool"}},"get_metrics":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy.get_metrics","name":"get_metrics","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"get_metrics of ComputeCommOverlapStrategy","ret_type":{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.dict"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"observe_execution":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,3,3,5],"arg_names":["self","batch_size","latency_ms","metadata"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy.observe_execution","name":"observe_execution","type":{".class":"CallableType","arg_kinds":[0,3,3,5],"arg_names":["self","batch_size","latency_ms","metadata"],"arg_types":["sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy","builtins.int","builtins.float",{".class":"UnionType","items":[{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.dict"},{".class":"NoneType"}],"uses_pep604_syntax":true}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"observe_execution of ComputeCommOverlapStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"optimize":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy.optimize","name":"optimize","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"arg_types":["sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"sagellm_core.runtime_optimizer.RuntimeStats"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"optimize of ComputeCommOverlapStrategy","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"overlap_threshold":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy.overlap_threshold","name":"overlap_threshold","type":"builtins.float"}},"pp_degree":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy.pp_degree","name":"pp_degree","type":"builtins.int"}},"set_backend":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","backend"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy.set_backend","name":"set_backend","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","backend"],"arg_types":["sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"set_backend of ComputeCommOverlapStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"tp_degree":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy.tp_degree","name":"tp_degree","type":"builtins.int"}},"tp_pp_rebalance_interval":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy.tp_pp_rebalance_interval","name":"tp_pp_rebalance_interval","type":"builtins.int"}}},"self_type":{".class":"TypeVarType","default":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},"fullname":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy.Self","id":0,"name":"Self","namespace":"","upper_bound":"sagellm_core.runtime_optimizer.ComputeCommOverlapStrategy","values":[],"variance":0},"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"DynamicBatchingStrategy":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["sagellm_core.runtime_optimizer.BaseStrategy"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy","name":"DynamicBatchingStrategy","type_vars":[]},"deletable_attributes":[],"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy","has_param_spec_type":false,"metaclass_type":"abc.ABCMeta","metadata":{},"module_name":"sagellm_core.runtime_optimizer","mro":["sagellm_core.runtime_optimizer.DynamicBatchingStrategy","sagellm_core.runtime_optimizer.BaseStrategy","abc.ABC","builtins.object"],"names":{".class":"SymbolTable","__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,5,5,5,5,5,5],"arg_names":["self","small_batch_threshold","large_batch_threshold","enable_mixed_batching","auto_tune_thresholds","name","enabled"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,5,5,5,5,5,5],"arg_names":["self","small_batch_threshold","large_batch_threshold","enable_mixed_batching","auto_tune_thresholds","name","enabled"],"arg_types":["sagellm_core.runtime_optimizer.DynamicBatchingStrategy","builtins.int","builtins.int","builtins.bool","builtins.bool","builtins.str","builtins.bool"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__init__ of DynamicBatchingStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_apply_backend_hint":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,3,3],"arg_names":["self","profile","batch_size"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy._apply_backend_hint","name":"_apply_backend_hint","type":{".class":"CallableType","arg_kinds":[0,3,3],"arg_names":["self","profile","batch_size"],"arg_types":["sagellm_core.runtime_optimizer.DynamicBatchingStrategy","builtins.str","builtins.int"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_apply_backend_hint of DynamicBatchingStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_auto_tune_thresholds":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy._auto_tune_thresholds","name":"_auto_tune_thresholds","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["sagellm_core.runtime_optimizer.DynamicBatchingStrategy"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_auto_tune_thresholds of DynamicBatchingStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_backend":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy._backend","name":"_backend","type":{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},{".class":"NoneType"}],"uses_pep604_syntax":true}}},"_is_decode":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["item"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_static","is_decorated"],"fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy._is_decode","name":"_is_decode","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["item"],"arg_types":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_is_decode of DynamicBatchingStrategy","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_staticmethod","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy._is_decode","name":"_is_decode","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["item"],"arg_types":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_is_decode of DynamicBatchingStrategy","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"_is_prefill":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["item"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_static","is_decorated"],"fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy._is_prefill","name":"_is_prefill","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["item"],"arg_types":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_is_prefill of DynamicBatchingStrategy","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_staticmethod","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy._is_prefill","name":"_is_prefill","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["item"],"arg_types":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_is_prefill of DynamicBatchingStrategy","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"_latency_by_profile":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy._latency_by_profile","name":"_latency_by_profile","type":{".class":"Instance","args":["builtins.str",{".class":"Instance","args":["builtins.float"],"extra_attrs":null,"type_ref":"builtins.list"}],"extra_attrs":null,"type_ref":"builtins.dict"}}},"_profile_for_batch_size":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","batch_size"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy._profile_for_batch_size","name":"_profile_for_batch_size","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","batch_size"],"arg_types":["sagellm_core.runtime_optimizer.DynamicBatchingStrategy","builtins.int"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_profile_for_batch_size of DynamicBatchingStrategy","ret_type":"builtins.str","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_reorder_mixed_batches":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","step"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy._reorder_mixed_batches","name":"_reorder_mixed_batches","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","step"],"arg_types":["sagellm_core.runtime_optimizer.DynamicBatchingStrategy",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_reorder_mixed_batches of DynamicBatchingStrategy","ret_type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_split_large_decode_batches":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","step"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy._split_large_decode_batches","name":"_split_large_decode_batches","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","step"],"arg_types":["sagellm_core.runtime_optimizer.DynamicBatchingStrategy",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_split_large_decode_batches of DynamicBatchingStrategy","ret_type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"auto_tune_thresholds":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy.auto_tune_thresholds","name":"auto_tune_thresholds","type":"builtins.bool"}},"enable_mixed_batching":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy.enable_mixed_batching","name":"enable_mixed_batching","type":"builtins.bool"}},"large_batch_threshold":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy.large_batch_threshold","name":"large_batch_threshold","type":"builtins.int"}},"observe_execution":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,3,3,5],"arg_names":["self","batch_size","latency_ms","metadata"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy.observe_execution","name":"observe_execution","type":{".class":"CallableType","arg_kinds":[0,3,3,5],"arg_names":["self","batch_size","latency_ms","metadata"],"arg_types":["sagellm_core.runtime_optimizer.DynamicBatchingStrategy","builtins.int","builtins.float",{".class":"UnionType","items":[{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.dict"},{".class":"NoneType"}],"uses_pep604_syntax":true}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"observe_execution of DynamicBatchingStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"optimize":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy.optimize","name":"optimize","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"arg_types":["sagellm_core.runtime_optimizer.DynamicBatchingStrategy",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"sagellm_core.runtime_optimizer.RuntimeStats"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"optimize of DynamicBatchingStrategy","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"set_backend":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","backend"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy.set_backend","name":"set_backend","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","backend"],"arg_types":["sagellm_core.runtime_optimizer.DynamicBatchingStrategy",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"set_backend of DynamicBatchingStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"small_batch_threshold":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy.small_batch_threshold","name":"small_batch_threshold","type":"builtins.int"}}},"self_type":{".class":"TypeVarType","default":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},"fullname":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy.Self","id":0,"name":"Self","namespace":"","upper_bound":"sagellm_core.runtime_optimizer.DynamicBatchingStrategy","values":[],"variance":0},"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"KVComputeCoOptimizationStrategy":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["sagellm_core.runtime_optimizer.BaseStrategy"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy","name":"KVComputeCoOptimizationStrategy","type_vars":[]},"deletable_attributes":[],"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy","has_param_spec_type":false,"metaclass_type":"abc.ABCMeta","metadata":{},"module_name":"sagellm_core.runtime_optimizer","mro":["sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy","sagellm_core.runtime_optimizer.BaseStrategy","abc.ABC","builtins.object"],"names":{".class":"SymbolTable","__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,5,5,5,5,5,5,5,5,5,5],"arg_names":["self","enable_kv_aware_scheduling","enable_speculative_decoding","enable_early_exit","enable_kv_transfer","recompute_threshold","speculative_lookahead","early_exit_layers","kv_transfer_threshold","name","enabled"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,5,5,5,5,5,5,5,5,5,5],"arg_names":["self","enable_kv_aware_scheduling","enable_speculative_decoding","enable_early_exit","enable_kv_transfer","recompute_threshold","speculative_lookahead","early_exit_layers","kv_transfer_threshold","name","enabled"],"arg_types":["sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy","builtins.bool","builtins.bool","builtins.bool","builtins.bool","builtins.float","builtins.int",{".class":"UnionType","items":[{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"NoneType"}],"uses_pep604_syntax":true},"builtins.int","builtins.str","builtins.bool"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__init__ of KVComputeCoOptimizationStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_backend":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy._backend","name":"_backend","type":{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},{".class":"NoneType"}],"uses_pep604_syntax":true}}},"_early_exit_count":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy._early_exit_count","name":"_early_exit_count","type":"builtins.int"}},"_is_decode":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["item"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_static","is_decorated"],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy._is_decode","name":"_is_decode","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["item"],"arg_types":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_is_decode of KVComputeCoOptimizationStrategy","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_staticmethod","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy._is_decode","name":"_is_decode","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["item"],"arg_types":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_is_decode of KVComputeCoOptimizationStrategy","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"_is_prefill":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["item"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_static","is_decorated"],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy._is_prefill","name":"_is_prefill","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["item"],"arg_types":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_is_prefill of KVComputeCoOptimizationStrategy","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_staticmethod","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy._is_prefill","name":"_is_prefill","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["item"],"arg_types":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_is_prefill of KVComputeCoOptimizationStrategy","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"_kv_cache_manager":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy._kv_cache_manager","name":"_kv_cache_manager","type":{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},{".class":"NoneType"}],"uses_pep604_syntax":true}}},"_kv_transfer_count":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy._kv_transfer_count","name":"_kv_transfer_count","type":"builtins.int"}},"_kv_utilization_history":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy._kv_utilization_history","name":"_kv_utilization_history","type":{".class":"Instance","args":["builtins.float"],"extra_attrs":null,"type_ref":"builtins.list"}}},"_optimize_early_exit":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy._optimize_early_exit","name":"_optimize_early_exit","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"arg_types":["sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"},"sagellm_core.runtime_optimizer.RuntimeStats"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_optimize_early_exit of KVComputeCoOptimizationStrategy","ret_type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_optimize_kv_aware_scheduling":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy._optimize_kv_aware_scheduling","name":"_optimize_kv_aware_scheduling","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"arg_types":["sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"},"sagellm_core.runtime_optimizer.RuntimeStats"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_optimize_kv_aware_scheduling of KVComputeCoOptimizationStrategy","ret_type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_optimize_kv_transfer":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy._optimize_kv_transfer","name":"_optimize_kv_transfer","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"arg_types":["sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"},"sagellm_core.runtime_optimizer.RuntimeStats"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_optimize_kv_transfer of KVComputeCoOptimizationStrategy","ret_type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_optimize_speculative_decoding":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy._optimize_speculative_decoding","name":"_optimize_speculative_decoding","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"arg_types":["sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"},"sagellm_core.runtime_optimizer.RuntimeStats"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_optimize_speculative_decoding of KVComputeCoOptimizationStrategy","ret_type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_recompute_count":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy._recompute_count","name":"_recompute_count","type":"builtins.int"}},"_speculative_accept_count":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy._speculative_accept_count","name":"_speculative_accept_count","type":"builtins.int"}},"_speculative_total_count":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy._speculative_total_count","name":"_speculative_total_count","type":"builtins.int"}},"early_exit_layers":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy.early_exit_layers","name":"early_exit_layers","type":{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"}}},"enable_early_exit":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy.enable_early_exit","name":"enable_early_exit","type":"builtins.bool"}},"enable_kv_aware_scheduling":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy.enable_kv_aware_scheduling","name":"enable_kv_aware_scheduling","type":"builtins.bool"}},"enable_kv_transfer":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy.enable_kv_transfer","name":"enable_kv_transfer","type":"builtins.bool"}},"enable_speculative_decoding":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy.enable_speculative_decoding","name":"enable_speculative_decoding","type":"builtins.bool"}},"get_metrics":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy.get_metrics","name":"get_metrics","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"get_metrics of KVComputeCoOptimizationStrategy","ret_type":{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.dict"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"kv_transfer_threshold":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy.kv_transfer_threshold","name":"kv_transfer_threshold","type":"builtins.int"}},"observe_execution":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,3,3,5],"arg_names":["self","batch_size","latency_ms","metadata"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy.observe_execution","name":"observe_execution","type":{".class":"CallableType","arg_kinds":[0,3,3,5],"arg_names":["self","batch_size","latency_ms","metadata"],"arg_types":["sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy","builtins.int","builtins.float",{".class":"UnionType","items":[{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.dict"},{".class":"NoneType"}],"uses_pep604_syntax":true}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"observe_execution of KVComputeCoOptimizationStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"optimize":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy.optimize","name":"optimize","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","step","stats"],"arg_types":["sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"sagellm_core.runtime_optimizer.RuntimeStats"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"optimize of KVComputeCoOptimizationStrategy","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"recompute_threshold":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy.recompute_threshold","name":"recompute_threshold","type":"builtins.float"}},"set_backend":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","backend"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy.set_backend","name":"set_backend","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","backend"],"arg_types":["sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"set_backend of KVComputeCoOptimizationStrategy","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"speculative_lookahead":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy.speculative_lookahead","name":"speculative_lookahead","type":"builtins.int"}}},"self_type":{".class":"TypeVarType","default":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},"fullname":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy.Self","id":0,"name":"Self","namespace":"","upper_bound":"sagellm_core.runtime_optimizer.KVComputeCoOptimizationStrategy","values":[],"variance":0},"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"OrderedDict":{".class":"SymbolTableNode","cross_ref":"collections.OrderedDict","kind":"Gdef"},"RuntimeOptimizer":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"sagellm_core.runtime_optimizer.RuntimeOptimizer","name":"RuntimeOptimizer","type_vars":[]},"deletable_attributes":[],"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.RuntimeOptimizer","has_param_spec_type":false,"metaclass_type":null,"metadata":{},"module_name":"sagellm_core.runtime_optimizer","mro":["sagellm_core.runtime_optimizer.RuntimeOptimizer","builtins.object"],"names":{".class":"SymbolTable","__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,3,5,5,5],"arg_names":["self","backend","strategies","enabled_strategies","runtime_stats"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.RuntimeOptimizer.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,3,5,5,5],"arg_names":["self","backend","strategies","enabled_strategies","runtime_stats"],"arg_types":["sagellm_core.runtime_optimizer.RuntimeOptimizer",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},{".class":"UnionType","items":[{".class":"Instance","args":["sagellm_core.runtime_optimizer.BaseStrategy"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"NoneType"}],"uses_pep604_syntax":true},{".class":"UnionType","items":[{".class":"Instance","args":["builtins.str"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"NoneType"}],"uses_pep604_syntax":true},{".class":"UnionType","items":["sagellm_core.runtime_optimizer.RuntimeStats",{".class":"NoneType"}],"uses_pep604_syntax":true}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__init__ of RuntimeOptimizer","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_backend":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.RuntimeOptimizer._backend","name":"_backend","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}}},"_infer_batch_size":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["step"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_static","is_decorated"],"fullname":"sagellm_core.runtime_optimizer.RuntimeOptimizer._infer_batch_size","name":"_infer_batch_size","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["step"],"arg_types":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_infer_batch_size of RuntimeOptimizer","ret_type":"builtins.int","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_staticmethod","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.RuntimeOptimizer._infer_batch_size","name":"_infer_batch_size","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["step"],"arg_types":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_infer_batch_size of RuntimeOptimizer","ret_type":"builtins.int","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"_stats":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.RuntimeOptimizer._stats","name":"_stats","type":"sagellm_core.runtime_optimizer.RuntimeStats"}},"_strategies":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.RuntimeOptimizer._strategies","name":"_strategies","type":{".class":"Instance","args":["builtins.str","sagellm_core.runtime_optimizer.BaseStrategy"],"extra_attrs":null,"type_ref":"collections.OrderedDict"}}},"collect_stats":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,5],"arg_names":["self","step","kv_cache_manager"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.RuntimeOptimizer.collect_stats","name":"collect_stats","type":{".class":"CallableType","arg_kinds":[0,0,5],"arg_names":["self","step","kv_cache_manager"],"arg_types":["sagellm_core.runtime_optimizer.RuntimeOptimizer",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},{".class":"NoneType"}],"uses_pep604_syntax":true}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"collect_stats of RuntimeOptimizer","ret_type":"sagellm_core.runtime_optimizer.RuntimeStatsSnapshot","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"disable_strategy":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","name"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.RuntimeOptimizer.disable_strategy","name":"disable_strategy","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","name"],"arg_types":["sagellm_core.runtime_optimizer.RuntimeOptimizer","builtins.str"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"disable_strategy of RuntimeOptimizer","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"enable_strategy":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","name"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.RuntimeOptimizer.enable_strategy","name":"enable_strategy","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","name"],"arg_types":["sagellm_core.runtime_optimizer.RuntimeOptimizer","builtins.str"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"enable_strategy of RuntimeOptimizer","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"list_strategies":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.RuntimeOptimizer.list_strategies","name":"list_strategies","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["sagellm_core.runtime_optimizer.RuntimeOptimizer"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"list_strategies of RuntimeOptimizer","ret_type":{".class":"Instance","args":["builtins.str"],"extra_attrs":null,"type_ref":"builtins.list"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"optimize_step":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,1],"arg_names":["self","step","runtime_stats"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.RuntimeOptimizer.optimize_step","name":"optimize_step","type":{".class":"CallableType","arg_kinds":[0,0,1],"arg_names":["self","step","runtime_stats"],"arg_types":["sagellm_core.runtime_optimizer.RuntimeOptimizer",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},{".class":"UnionType","items":["sagellm_core.runtime_optimizer.RuntimeStatsSnapshot",{".class":"NoneType"}],"uses_pep604_syntax":true}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"optimize_step of RuntimeOptimizer","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"register_strategy":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","strategy"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.RuntimeOptimizer.register_strategy","name":"register_strategy","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","strategy"],"arg_types":["sagellm_core.runtime_optimizer.RuntimeOptimizer","sagellm_core.runtime_optimizer.BaseStrategy"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"register_strategy of RuntimeOptimizer","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"remove_strategy":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","name"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.RuntimeOptimizer.remove_strategy","name":"remove_strategy","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","name"],"arg_types":["sagellm_core.runtime_optimizer.RuntimeOptimizer","builtins.str"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"remove_strategy of RuntimeOptimizer","ret_type":{".class":"UnionType","items":["sagellm_core.runtime_optimizer.BaseStrategy",{".class":"NoneType"}],"uses_pep604_syntax":true},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"report_execution":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,3,3],"arg_names":["self","step","outputs"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.RuntimeOptimizer.report_execution","name":"report_execution","type":{".class":"CallableType","arg_kinds":[0,3,3],"arg_names":["self","step","outputs"],"arg_types":["sagellm_core.runtime_optimizer.RuntimeOptimizer",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"report_execution of RuntimeOptimizer","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"stats":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_property","is_decorated"],"fullname":"sagellm_core.runtime_optimizer.RuntimeOptimizer.stats","name":"stats","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["sagellm_core.runtime_optimizer.RuntimeOptimizer"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"stats of RuntimeOptimizer","ret_type":"sagellm_core.runtime_optimizer.RuntimeStats","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_property","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.RuntimeOptimizer.stats","name":"stats","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["sagellm_core.runtime_optimizer.RuntimeOptimizer"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"stats of RuntimeOptimizer","ret_type":"sagellm_core.runtime_optimizer.RuntimeStats","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}}},"self_type":{".class":"TypeVarType","default":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},"fullname":"sagellm_core.runtime_optimizer.RuntimeOptimizer.Self","id":0,"name":"Self","namespace":"","upper_bound":"sagellm_core.runtime_optimizer.RuntimeOptimizer","values":[],"variance":0},"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"RuntimeStats":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"sagellm_core.runtime_optimizer.RuntimeStats","name":"RuntimeStats","type_vars":[]},"deletable_attributes":[],"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.RuntimeStats","has_param_spec_type":false,"metaclass_type":null,"metadata":{},"module_name":"sagellm_core.runtime_optimizer","mro":["sagellm_core.runtime_optimizer.RuntimeStats","builtins.object"],"names":{".class":"SymbolTable","__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,5],"arg_names":["self","max_history"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.RuntimeStats.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,5],"arg_names":["self","max_history"],"arg_types":["sagellm_core.runtime_optimizer.RuntimeStats","builtins.int"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__init__ of RuntimeStats","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_estimate_seq_len":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["step"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_static","is_decorated"],"fullname":"sagellm_core.runtime_optimizer.RuntimeStats._estimate_seq_len","name":"_estimate_seq_len","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["step"],"arg_types":[{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_estimate_seq_len of RuntimeStats","ret_type":"builtins.int","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_staticmethod","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.RuntimeStats._estimate_seq_len","name":"_estimate_seq_len","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["step"],"arg_types":[{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_estimate_seq_len of RuntimeStats","ret_type":"builtins.int","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"_extract_gpu_utilization":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["backend"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_static","is_decorated"],"fullname":"sagellm_core.runtime_optimizer.RuntimeStats._extract_gpu_utilization","name":"_extract_gpu_utilization","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["backend"],"arg_types":[{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},{".class":"NoneType"}],"uses_pep604_syntax":true}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_extract_gpu_utilization of RuntimeStats","ret_type":{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":true},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_staticmethod","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.RuntimeStats._extract_gpu_utilization","name":"_extract_gpu_utilization","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["backend"],"arg_types":[{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},{".class":"NoneType"}],"uses_pep604_syntax":true}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_extract_gpu_utilization of RuntimeStats","ret_type":{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":true},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"_extract_kv_cache_hit_rate":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["kv_cache_manager"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_static","is_decorated"],"fullname":"sagellm_core.runtime_optimizer.RuntimeStats._extract_kv_cache_hit_rate","name":"_extract_kv_cache_hit_rate","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["kv_cache_manager"],"arg_types":[{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},{".class":"NoneType"}],"uses_pep604_syntax":true}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_extract_kv_cache_hit_rate of RuntimeStats","ret_type":{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":true},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_staticmethod","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.RuntimeStats._extract_kv_cache_hit_rate","name":"_extract_kv_cache_hit_rate","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["kv_cache_manager"],"arg_types":[{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},{".class":"NoneType"}],"uses_pep604_syntax":true}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_extract_kv_cache_hit_rate of RuntimeStats","ret_type":{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":true},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"_history":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"sagellm_core.runtime_optimizer.RuntimeStats._history","name":"_history","type":{".class":"Instance","args":["sagellm_core.runtime_optimizer.RuntimeStatsSnapshot"],"extra_attrs":null,"type_ref":"builtins.list"}}},"_max_history":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"sagellm_core.runtime_optimizer.RuntimeStats._max_history","name":"_max_history","type":"builtins.int"}},"collect_from_step":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,5,5],"arg_names":["self","step","backend","kv_cache_manager"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.RuntimeStats.collect_from_step","name":"collect_from_step","type":{".class":"CallableType","arg_kinds":[0,0,5,5],"arg_names":["self","step","backend","kv_cache_manager"],"arg_types":["sagellm_core.runtime_optimizer.RuntimeStats",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},{".class":"NoneType"}],"uses_pep604_syntax":true},{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},{".class":"NoneType"}],"uses_pep604_syntax":true}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"collect_from_step of RuntimeStats","ret_type":"sagellm_core.runtime_optimizer.RuntimeStatsSnapshot","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"history":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,1],"arg_names":["self","limit"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.RuntimeStats.history","name":"history","type":{".class":"CallableType","arg_kinds":[0,1],"arg_names":["self","limit"],"arg_types":["sagellm_core.runtime_optimizer.RuntimeStats",{".class":"UnionType","items":["builtins.int",{".class":"NoneType"}],"uses_pep604_syntax":true}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"history of RuntimeStats","ret_type":{".class":"Instance","args":["sagellm_core.runtime_optimizer.RuntimeStatsSnapshot"],"extra_attrs":null,"type_ref":"builtins.list"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"latest":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.RuntimeStats.latest","name":"latest","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["sagellm_core.runtime_optimizer.RuntimeStats"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"latest of RuntimeStats","ret_type":{".class":"UnionType","items":["sagellm_core.runtime_optimizer.RuntimeStatsSnapshot",{".class":"NoneType"}],"uses_pep604_syntax":true},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"record":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,3,3,5,5,5],"arg_names":["self","batch_size","seq_len","gpu_utilization","kv_cache_hit_rate","metadata"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.RuntimeStats.record","name":"record","type":{".class":"CallableType","arg_kinds":[0,3,3,5,5,5],"arg_names":["self","batch_size","seq_len","gpu_utilization","kv_cache_hit_rate","metadata"],"arg_types":["sagellm_core.runtime_optimizer.RuntimeStats","builtins.int","builtins.int",{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":true},{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":true},{".class":"UnionType","items":[{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.dict"},{".class":"NoneType"}],"uses_pep604_syntax":true}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"record of RuntimeStats","ret_type":"sagellm_core.runtime_optimizer.RuntimeStatsSnapshot","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"summary":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.RuntimeStats.summary","name":"summary","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["sagellm_core.runtime_optimizer.RuntimeStats"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"summary of RuntimeStats","ret_type":{".class":"Instance","args":["builtins.str",{".class":"UnionType","items":["builtins.float","builtins.int"],"uses_pep604_syntax":true}],"extra_attrs":null,"type_ref":"builtins.dict"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"self_type":{".class":"TypeVarType","default":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},"fullname":"sagellm_core.runtime_optimizer.RuntimeStats.Self","id":0,"name":"Self","namespace":"","upper_bound":"sagellm_core.runtime_optimizer.RuntimeStats","values":[],"variance":0},"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"RuntimeStatsSnapshot":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"sagellm_core.runtime_optimizer.RuntimeStatsSnapshot","name":"RuntimeStatsSnapshot","type_vars":[]},"deletable_attributes":[],"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.RuntimeStatsSnapshot","has_param_spec_type":false,"metaclass_type":null,"metadata":{"dataclass":{"attributes":[{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":45,"name":"timestamp_s","type":"builtins.float"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":46,"name":"batch_size","type":"builtins.int"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":47,"name":"seq_len","type":"builtins.int"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":48,"name":"gpu_utilization","type":{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":true}},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":49,"name":"kv_cache_hit_rate","type":{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":true}},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":50,"name":"metadata","type":{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.dict"}}],"frozen":false},"dataclass_tag":{}},"module_name":"sagellm_core.runtime_optimizer","mro":["sagellm_core.runtime_optimizer.RuntimeStatsSnapshot","builtins.object"],"names":{".class":"SymbolTable","__dataclass_fields__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_classvar","is_ready"],"fullname":"sagellm_core.runtime_optimizer.RuntimeStatsSnapshot.__dataclass_fields__","name":"__dataclass_fields__","type":{".class":"Instance","args":["builtins.str",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"dataclasses.Field"}],"extra_attrs":null,"type_ref":"builtins.dict"}},"plugin_generated":true},"__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0,0,1],"arg_names":["self","timestamp_s","batch_size","seq_len","gpu_utilization","kv_cache_hit_rate","metadata"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer.RuntimeStatsSnapshot.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0,0,1],"arg_names":["self","timestamp_s","batch_size","seq_len","gpu_utilization","kv_cache_hit_rate","metadata"],"arg_types":["sagellm_core.runtime_optimizer.RuntimeStatsSnapshot","builtins.float","builtins.int","builtins.int",{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.dict"}],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__init__ of RuntimeStatsSnapshot","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"plugin_generated":true},"__match_args__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_ready","allow_incompatible_override"],"fullname":"sagellm_core.runtime_optimizer.RuntimeStatsSnapshot.__match_args__","name":"__match_args__","type":{".class":"TupleType","implicit":false,"items":[{".class":"LiteralType","fallback":"builtins.str","value":"timestamp_s"},{".class":"LiteralType","fallback":"builtins.str","value":"batch_size"},{".class":"LiteralType","fallback":"builtins.str","value":"seq_len"},{".class":"LiteralType","fallback":"builtins.str","value":"gpu_utilization"},{".class":"LiteralType","fallback":"builtins.str","value":"kv_cache_hit_rate"},{".class":"LiteralType","fallback":"builtins.str","value":"metadata"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.tuple"}}},"plugin_generated":true},"__mypy-replace":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[5,5,5,5,5,5],"arg_names":["timestamp_s","batch_size","seq_len","gpu_utilization","kv_cache_hit_rate","metadata"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_static","is_decorated"],"fullname":"sagellm_core.runtime_optimizer.RuntimeStatsSnapshot.__mypy-replace","name":"__mypy-replace","type":{".class":"CallableType","arg_kinds":[5,5,5,5,5,5],"arg_names":["timestamp_s","batch_size","seq_len","gpu_utilization","kv_cache_hit_rate","metadata"],"arg_types":["builtins.float","builtins.int","builtins.int",{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.dict"}],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__mypy-replace of RuntimeStatsSnapshot","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_staticmethod","is_ready"],"fullname":"sagellm_core.runtime_optimizer.RuntimeStatsSnapshot.__mypy-replace","name":"__mypy-replace","type":{".class":"CallableType","arg_kinds":[5,5,5,5,5,5],"arg_names":["timestamp_s","batch_size","seq_len","gpu_utilization","kv_cache_hit_rate","metadata"],"arg_types":["builtins.float","builtins.int","builtins.int",{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.dict"}],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__mypy-replace of RuntimeStatsSnapshot","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"plugin_generated":true},"batch_size":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"sagellm_core.runtime_optimizer.RuntimeStatsSnapshot.batch_size","name":"batch_size","type":"builtins.int"}},"gpu_utilization":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"sagellm_core.runtime_optimizer.RuntimeStatsSnapshot.gpu_utilization","name":"gpu_utilization","type":{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":true}}},"kv_cache_hit_rate":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"sagellm_core.runtime_optimizer.RuntimeStatsSnapshot.kv_cache_hit_rate","name":"kv_cache_hit_rate","type":{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":true}}},"metadata":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"sagellm_core.runtime_optimizer.RuntimeStatsSnapshot.metadata","name":"metadata","type":{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"builtins.dict"}}},"seq_len":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"sagellm_core.runtime_optimizer.RuntimeStatsSnapshot.seq_len","name":"seq_len","type":"builtins.int"}},"timestamp_s":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"sagellm_core.runtime_optimizer.RuntimeStatsSnapshot.timestamp_s","name":"timestamp_s","type":"builtins.float"}}},"self_type":{".class":"TypeVarType","default":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},"fullname":"sagellm_core.runtime_optimizer.RuntimeStatsSnapshot.Self","id":0,"name":"Self","namespace":"","upper_bound":"sagellm_core.runtime_optimizer.RuntimeStatsSnapshot","values":[],"variance":0},"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"_GraphCacheEntry":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"sagellm_core.runtime_optimizer._GraphCacheEntry","name":"_GraphCacheEntry","type_vars":[]},"deletable_attributes":[],"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer._GraphCacheEntry","has_param_spec_type":false,"metaclass_type":null,"metadata":{"dataclass":{"attributes":[{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":55,"name":"key","type":"builtins.str"},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":56,"name":"warmup_runs","type":"builtins.int"},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":57,"name":"captured","type":"builtins.bool"},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":58,"name":"hits","type":"builtins.int"},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":59,"name":"uses","type":"builtins.int"}],"frozen":false},"dataclass_tag":{}},"module_name":"sagellm_core.runtime_optimizer","mro":["sagellm_core.runtime_optimizer._GraphCacheEntry","builtins.object"],"names":{".class":"SymbolTable","__dataclass_fields__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_classvar","is_ready"],"fullname":"sagellm_core.runtime_optimizer._GraphCacheEntry.__dataclass_fields__","name":"__dataclass_fields__","type":{".class":"Instance","args":["builtins.str",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"dataclasses.Field"}],"extra_attrs":null,"type_ref":"builtins.dict"}},"plugin_generated":true},"__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,1,1,1,1],"arg_names":["self","key","warmup_runs","captured","hits","uses"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"sagellm_core.runtime_optimizer._GraphCacheEntry.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,0,1,1,1,1],"arg_names":["self","key","warmup_runs","captured","hits","uses"],"arg_types":["sagellm_core.runtime_optimizer._GraphCacheEntry","builtins.str","builtins.int","builtins.bool","builtins.int","builtins.int"],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__init__ of _GraphCacheEntry","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"plugin_generated":true},"__match_args__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_ready","allow_incompatible_override"],"fullname":"sagellm_core.runtime_optimizer._GraphCacheEntry.__match_args__","name":"__match_args__","type":{".class":"TupleType","implicit":false,"items":[{".class":"LiteralType","fallback":"builtins.str","value":"key"},{".class":"LiteralType","fallback":"builtins.str","value":"warmup_runs"},{".class":"LiteralType","fallback":"builtins.str","value":"captured"},{".class":"LiteralType","fallback":"builtins.str","value":"hits"},{".class":"LiteralType","fallback":"builtins.str","value":"uses"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.tuple"}}},"plugin_generated":true},"__mypy-replace":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[5,5,5,5,5],"arg_names":["key","warmup_runs","captured","hits","uses"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_static","is_decorated"],"fullname":"sagellm_core.runtime_optimizer._GraphCacheEntry.__mypy-replace","name":"__mypy-replace","type":{".class":"CallableType","arg_kinds":[5,5,5,5,5],"arg_names":["key","warmup_runs","captured","hits","uses"],"arg_types":["builtins.str","builtins.int","builtins.bool","builtins.int","builtins.int"],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__mypy-replace of _GraphCacheEntry","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_staticmethod","is_ready"],"fullname":"sagellm_core.runtime_optimizer._GraphCacheEntry.__mypy-replace","name":"__mypy-replace","type":{".class":"CallableType","arg_kinds":[5,5,5,5,5],"arg_names":["key","warmup_runs","captured","hits","uses"],"arg_types":["builtins.str","builtins.int","builtins.bool","builtins.int","builtins.int"],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__mypy-replace of _GraphCacheEntry","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"plugin_generated":true},"captured":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"sagellm_core.runtime_optimizer._GraphCacheEntry.captured","name":"captured","type":"builtins.bool"}},"hits":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"sagellm_core.runtime_optimizer._GraphCacheEntry.hits","name":"hits","type":"builtins.int"}},"key":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"sagellm_core.runtime_optimizer._GraphCacheEntry.key","name":"key","type":"builtins.str"}},"uses":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"sagellm_core.runtime_optimizer._GraphCacheEntry.uses","name":"uses","type":"builtins.int"}},"warmup_runs":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"sagellm_core.runtime_optimizer._GraphCacheEntry.warmup_runs","name":"warmup_runs","type":"builtins.int"}}},"self_type":{".class":"TypeVarType","default":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},"fullname":"sagellm_core.runtime_optimizer._GraphCacheEntry.Self","id":0,"name":"Self","namespace":"","upper_bound":"sagellm_core.runtime_optimizer._GraphCacheEntry","values":[],"variance":0},"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"__annotations__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"sagellm_core.runtime_optimizer.__annotations__","name":"__annotations__","type":{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.dict"}}},"__doc__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"sagellm_core.runtime_optimizer.__doc__","name":"__doc__","type":"builtins.str"}},"__file__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"sagellm_core.runtime_optimizer.__file__","name":"__file__","type":"builtins.str"}},"__name__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"sagellm_core.runtime_optimizer.__name__","name":"__name__","type":"builtins.str"}},"__package__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"sagellm_core.runtime_optimizer.__package__","name":"__package__","type":"builtins.str"}},"__spec__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"sagellm_core.runtime_optimizer.__spec__","name":"__spec__","type":"_frozen_importlib.ModuleSpec"}},"abstractmethod":{".class":"SymbolTableNode","cross_ref":"abc.abstractmethod","kind":"Gdef"},"annotations":{".class":"SymbolTableNode","cross_ref":"__future__.annotations","kind":"Gdef"},"copy":{".class":"SymbolTableNode","cross_ref":"copy.copy","kind":"Gdef"},"dataclass":{".class":"SymbolTableNode","cross_ref":"dataclasses.dataclass","kind":"Gdef"},"field":{".class":"SymbolTableNode","cross_ref":"dataclasses.field","kind":"Gdef"},"logger":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_inferred","has_explicit_value"],"fullname":"sagellm_core.runtime_optimizer.logger","name":"logger","type":"logging.Logger"}},"logging":{".class":"SymbolTableNode","cross_ref":"logging","kind":"Gdef"},"mean":{".class":"SymbolTableNode","cross_ref":"statistics.mean","kind":"Gdef"},"time":{".class":"SymbolTableNode","cross_ref":"time.time","kind":"Gdef"}},"path":"/home/shuhao/sagellm-core/src/sagellm_core/runtime_optimizer.py"}