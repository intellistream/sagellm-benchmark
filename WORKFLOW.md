# sageLLM Benchmark å·¥ä½œæµç¨‹

## ğŸ“ ç®€ä»‹

æœ¬æ–‡æ¡£è¯´æ˜å¦‚ä½•æäº¤ benchmark ç»“æœåˆ° HuggingFaceï¼Œä»¥åŠè‡ªåŠ¨åŒ–æµç¨‹å¦‚ä½•å·¥ä½œã€‚

---

## ğŸ‘¤ ç”¨æˆ·éœ€è¦åšçš„äº‹æƒ…ï¼ˆ3 æ­¥ï¼‰

### 1ï¸âƒ£ è¿è¡Œ Benchmark
```bash
# åœ¨æœ¬åœ°è¿è¡Œæ€§èƒ½æµ‹è¯•
sagellm-benchmark run --model Qwen2-7B

# ç»“æœä¿å­˜åœ¨ outputs/ ç›®å½•ï¼ˆä¸æäº¤åˆ° Gitï¼‰
```

### 2ï¸âƒ£ èšåˆæ•°æ®
```bash
# å°† outputs/ çš„ç»“æœèšåˆåˆ° hf_data/
python scripts/aggregate_for_hf.py

# æˆ–ä½¿ç”¨å‘½ä»¤
sagellm-benchmark aggregate
```

### 3ï¸âƒ£ æäº¤åˆ° GitHub
```bash
# åªæäº¤ hf_data/ ç›®å½•
git add hf_data/
git commit -m "feat: add Qwen2-7B benchmark results"
git push origin main-dev
```

**âœ… å®Œæˆï¼åç»­éƒ½æ˜¯è‡ªåŠ¨çš„ã€‚**

---

## ğŸ¤– è‡ªåŠ¨åŒ–æµç¨‹ï¼ˆæ— éœ€æ‰‹åŠ¨æ“ä½œï¼‰

æ¨é€ `hf_data/*.json` åˆ° GitHub åï¼ŒGitHub Actions ä¼šè‡ªåŠ¨æ‰§è¡Œï¼š

### Step 1: ä» HuggingFace æ‹‰å–æœ€æ–°æ•°æ®
```
ä» https://huggingface.co/datasets/intellistream/sagellm-benchmark-results
ä¸‹è½½ leaderboard_single.json å’Œ leaderboard_multi.json
```

### Step 2: æ™ºèƒ½åˆå¹¶
```
åˆå¹¶è§„åˆ™ï¼š
- ç›¸åŒé…ç½®çš„æµ‹è¯•ç»“æœåªä¿ç•™æœ€ä¼˜çš„ï¼ˆthroughput æœ€é«˜ï¼‰
- ä¸åŒé…ç½®çš„ç»“æœéƒ½ä¿ç•™
- é¿å…æ•°æ®ä¸¢å¤±
```

**å¹¶å‘å®‰å…¨**ï¼šå³ä½¿å¤šä¸ªç”¨æˆ·åŒæ—¶æäº¤ï¼Œæ•°æ®ä¹Ÿä¸ä¼šä¸¢å¤±ã€‚

### Step 3: ä¸Šä¼ åˆ° HuggingFace
```
ä¸Šä¼ åˆå¹¶åçš„æ•°æ®åˆ° HuggingFace
ä»“åº“ï¼šintellistream/sagellm-benchmark-results
```

### Step 4: æ¸…ç† Git ä»“åº“
```
åˆ é™¤ hf_data/ ç›®å½•ï¼ˆå·²ä¸Šä¼ åˆ° HFï¼Œæ— éœ€ä¿ç•™åœ¨ Gitï¼‰
ä¿æŒä»“åº“è½»é‡
```

### âš ï¸ å½“ GitHub Actions å› è´¦å•/é…é¢è¢«é˜»å¡æ—¶

å¦‚æœå‡ºç°ç±»ä¼¼ â€œjob was not started because recent account payments have failed or spending limit needs to be increasedâ€ çš„æç¤ºï¼Œ
è¯´æ˜æ˜¯å¹³å°è´¦å•é™åˆ¶ï¼Œä¸æ˜¯ä»“åº“ä»£ç é”™è¯¯ã€‚æ­¤æ—¶å¯å…ˆæ‰§è¡Œæœ¬åœ°å…œåº•æµç¨‹ï¼Œé¿å…å¼€å‘åœæ»ï¼š

```bash
# åœ¨ä»“åº“æ ¹ç›®å½•æ‰§è¡Œ
bash scripts/local_ci_fallback.sh
```

è¯¥è„šæœ¬ä¼šæŒ‰ `ci.yml` çš„æ ¸å¿ƒé¡ºåºè¿è¡Œï¼š
- pre-commit å…¨é‡æ£€æŸ¥
- version source guard
- pytest + coverageï¼ˆ`--cov-fail-under=45`ï¼‰
- build + twine check

---

## ğŸ”„ å®Œæ•´æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æœ¬åœ°æ“ä½œï¼ˆç”¨æˆ·æ‰‹åŠ¨ï¼‰                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  è¿è¡Œ Benchmark
       â†“
  outputs/result.json â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                       â”‚
  èšåˆæ•°æ®                              â”‚ (ä¸æäº¤åˆ° Git)
       â†“                               â”‚
  hf_data/leaderboard_*.json â†â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
  git add hf_data/
  git commit
  git push
       â†“

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GitHub Actions (è‡ªåŠ¨)                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  è§¦å‘æ¡ä»¶: hf_data/*.json è¢«æ¨é€
       â†“
  1. ä» HF ä¸‹è½½æœ€æ–°æ•°æ®
       â†“
  2. æ™ºèƒ½åˆå¹¶ï¼ˆä½ çš„æ•°æ® + HF æœ€æ–°æ•°æ®ï¼‰
       â†“
  3. ä¸Šä¼ åˆ° HuggingFace
       â†“
  4. åˆ é™¤ Git ä¸­çš„ hf_data/
       â†“
  âœ… å®Œæˆ

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æŸ¥çœ‹ç»“æœ                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è®¿é—® HuggingFace æ•°æ®é›†ï¼š
https://huggingface.co/datasets/intellistream/sagellm-benchmark-results
```

---

## â“ å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆè¦å…ˆèšåˆå†æäº¤ï¼Ÿ
**A**: èšåˆè„šæœ¬ä¼šä» HuggingFace ä¸‹è½½æœ€æ–°æ•°æ®å¹¶ä¸ä½ çš„ç»“æœåˆå¹¶ï¼Œé¿å…è¦†ç›–åˆ«äººçš„æ•°æ®ã€‚

### Q2: å¤šäººåŒæ—¶æäº¤ä¼šå†²çªå—ï¼Ÿ
**A**: ä¸ä¼šã€‚GitHub Actions ä¼šåœ¨ä¸Šä¼ å‰å†æ¬¡ä» HF ä¸‹è½½æœ€æ–°æ•°æ®å¹¶åˆå¹¶ï¼Œç¡®ä¿æ‰€æœ‰äººçš„æ•°æ®éƒ½è¢«ä¿ç•™ã€‚

### Q3: outputs/ ç›®å½•è¦æäº¤å—ï¼Ÿ
**A**: ä¸éœ€è¦ã€‚`outputs/` å·²åœ¨ `.gitignore` ä¸­ï¼Œåªæäº¤ `hf_data/`ã€‚

### Q4: æ¨é€åå¤šä¹…èƒ½åœ¨ HF çœ‹åˆ°ç»“æœï¼Ÿ
**A**: GitHub Actions é€šå¸¸åœ¨ 1-3 åˆ†é’Ÿå†…å®Œæˆï¼Œå®Œæˆåå³å¯åœ¨ HuggingFace æŸ¥çœ‹ã€‚

### Q5: å¦‚ä½•æŸ¥çœ‹è‡ªåŠ¨åŒ–æµç¨‹çš„æ‰§è¡ŒçŠ¶æ€ï¼Ÿ
**A**: è®¿é—® GitHub ä»“åº“çš„ **Actions** æ ‡ç­¾é¡µï¼ŒæŸ¥çœ‹ "Upload to Hugging Face" å·¥ä½œæµã€‚

### Q6: Actions è¢«è´¦å•é™åˆ¶é˜»å¡æ—¶æ€ä¹ˆåŠï¼Ÿ
**A**: å…ˆè”ç³»ä»“åº“ç®¡ç†å‘˜æ¢å¤ Actions è´¦å•/é…é¢ï¼›åœ¨æ¢å¤å‰ï¼Œæ‰§è¡Œ `bash scripts/local_ci_fallback.sh` å®Œæˆæœ¬åœ°ç­‰ä»·æ ¡éªŒï¼Œå¹¶åœ¨ PR/Issue ä¸­é™„ä¸Šæœ¬åœ°æ£€æŸ¥ç»“æœã€‚

---

## ğŸ“š ç›¸å…³æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `scripts/aggregate_for_hf.py` | æœ¬åœ°èšåˆè„šæœ¬ |
| `scripts/merge_and_upload.py` | GitHub Actions åˆå¹¶è„šæœ¬ |
| `scripts/upload_to_hf.py` | GitHub Actions ä¸Šä¼ è„šæœ¬ |
| `scripts/local_ci_fallback.sh` | Actions ä¸å¯ç”¨æ—¶çš„æœ¬åœ° CI å…œåº•è„šæœ¬ |
| `.github/workflows/upload-to-hf.yml` | è‡ªåŠ¨åŒ–æµç¨‹é…ç½® |
| `outputs/` | æœ¬åœ° benchmark åŸå§‹ç»“æœï¼ˆä¸æäº¤ï¼‰ |
| `hf_data/` | èšåˆåçš„æ•°æ®ï¼ˆæäº¤åä¼šè¢«è‡ªåŠ¨æ¸…ç†ï¼‰ |

---

## ğŸ¯ æ€»ç»“

**ä½ åªéœ€è¦ 3 æ­¥**ï¼š
1. è¿è¡Œ benchmark
2. èšåˆæ•°æ®
3. æ¨é€åˆ° GitHub

**å‰©ä¸‹çš„éƒ½æ˜¯è‡ªåŠ¨çš„**ï¼ğŸš€
